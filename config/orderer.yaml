# orderer.yaml - Orderer configuration (key excerpts)
General:
    ListenAddress: 0.0.0.0
    ListenPort: 7050
    TLS:
        Enabled: true
        PrivateKey: tls/server.key
        Certificate: tls/server.crt
        RootCAs:
            - tls/ca.crt
        # IMPORTANT: ClientAuthRequired=true means backend must use client certificates
        ClientAuthRequired: true
        ClientRootCAs:
            - tls/ca.crt
    Cluster:
        # Use the same TLS certs for cluster communications
        ClientCertificate: tls/server.crt
        ClientPrivateKey: tls/server.key
        RootCAs:
            - tls/ca.crt

FileLedger:
    Location: /var/hyperledger/production/orderer

# Enable channel participation API (no system channel)
ChannelParticipation:
    Enabled: true

# Admin server for OSN (note: separate from operations service)
# Using internal port 9443 for better security (not exposed publicly)
Admin:
    ListenAddress: 0.0.0.0:9443
    TLS:
        Enabled: true
        PrivateKey: tls/server.key
        Certificate: tls/server.crt
        # The admin client must present a cert signed by a trusted root:
        ClientAuthRequired: true
        ClientRootCAs:
            - tls/ca.crt

# RAFT consensus parameters (timeouts, etc.) could be tuned here, but default is fine
